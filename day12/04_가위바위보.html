<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>가위 바위 보를 10번 진행 후 승률을 구하기</h1>
    <button type="button" id="btn">승률 출력</button>
    <h3>
        10게임의 승률은 <span id="result"></span>%입니다.
    </h3>

    <script>
        // 가위 바위 보 게임
        // com = random, player = random
        // 1=가위, 2=바위, 3=보
        // 승률 계산은 (승/(10-무승부))*100, 소수점 2자리 표현
        // 콘솔에 com, player, 승: 무: 패: 값 출력

        document.getElementById(`btn`).addEventListener(`click`, ()=>{
            let win = 0;
            let draw = 0;
            let lose = 0;
            let winPercent = 0;

            for(let i=1; i<=10; i++){
                let com = Math.floor(Math.random()*3)+1;
                let player = Math.floor(Math.random()*3)+1;

                if(com == player){
                    draw++;
                    console.log(`com:${com}, player:${player}, draw! 승:${win}, 무:${draw}, 패:${lose}`);
                }else if((player==3 && com==2)||(player==2 && com==1)||(player==1 && com==3)){
                    win++;
                    console.log(`com:${com}, player:${player}, win! 승:${win}, 무:${draw}, 패:${lose}`);
                }else if((player==3 && com==1)||(player==2 && com==3)||(player==1 && com==2)){
                    lose++;
                    console.log(`com:${com}, player:${player}, defeat! 승:${win}, 무:${draw}, 패:${lose}`);
                }
            }

            winPercent = ((win / (10 - draw)) * 100).toFixed(2);
            document.getElementById(`result`).innerText = `${winPercent}`;
            console.log('----------');
        });

        // switch문
        document.getElementById(`btn`).addEventListener(`click`, ()=>{
            let win = 0; // 승
            let draw = 0; // 무
            let lose =0; // 패

            for(let i=0; i<10; i++){
                let player = Math.floor(Math.random()*3)+1;
                let com = Math.floor(Math.random()*3)+1;
                console.log(player+" / "+com);

                switch(player){
                    case 1: //가위
                        (com == 1) ? draw++ : (com == 2) ? lose++ : win++;
                        break;
                    case 2: // 바위
                        (com == 2) ? draw++ : (com == 3) ? lose++ : win++;
                        break;
                    case 3: // 보
                        (com == 3) ? draw++ : (com == 1) ? lose++ : win++;
                        break;
                        default: break;
                }
            }

            console.log(`승:${win}, 무:${draw}, 패:${lose}`);
            document.getElementById(`result`).innerText =
            `${((win / (10 - draw)) * 100).toFixed(2)}`;
        });
    </script>
</body>
</html>