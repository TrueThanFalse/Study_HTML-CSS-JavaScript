<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h3>데이터 리스트</h3>
    <ol>
        <li>이름</li>
        <li>거주지</li>
        <li>좋아하는 리스트 3가지
            <ul>
                <li>1.???</li>
                <li>2.???</li>
                <li>3.???</li>
            </ul>
        </li>
        <li>이메일</li>
        <li>지금 가장 원하는 것</li>
    </ol>
    <h3>리스트의 구조에 따라 JS 객체를 만들어보자</h3>
    <form action="">
        <!-- 입력 받을 input 구조 생성 -->
        이름 : <input type="text" id="name"><br>
        거주지 : <input type="text" id="addr"><br>
        좋아하는 리스트<br>
        리스트1: <input type="text" id="favor1"><br>
        리스트2: <input type="text" id="favor2"><br>
        리스트3: <input type="text" id="favor3"><br>
        이메일: <input type="text" id="email"><br>
        지금 가장 원하는 것 <input type="text" id="wanna"><br>
        <button type="button" onclick="getDatas()">객체로 전송</button>
    </form>

    <!-- 테이블 생성 -->
    <h3>
        전송 받은 데이터 출력
        <button type="button" id="printBtn">출력</button>
    </h3>
    <table border="1" id="dataTable"></table>

    <script>
        const dataObj = {
            name : "",
            addr : "",
            favors : {
                favor1 : "",
                favor2 : "",
                favor3 : "",
            },
            email : "",
            wanna : "",
            }
        console.log(dataObj);

        // tr th td를 활용하여 생성된 객체를 테이블에 출력하기
        document.getElementById(`printBtn`).addEventListener(`click`,()=>{
            let dataTable = document.getElementById(`dataTable`);
            let str = '';
                str += `<tr><th>이름</th><td>${dataObj.name}</td></tr>`;
                str += `<tr><th>거주지</th><td>${dataObj.addr}</td></tr>`;
                str += `<tr><th>좋아하는 리스트</th><td><ul>`;
                str += `<li>${dataObj.favors.favor1}</li>`;
                str += `<li>${dataObj.favors.favor2}</li>`;
                str += `<li>${dataObj.favors.favor3}</li>`;
                str += `</ul></td></tr>`;
                str += `<tr><th>이메일</th><td>${dataObj.email}</td></tr>`;
                str += `<tr><th>지금 가장 원하는 것</th><td>${dataObj.wanna}</td></tr>`;
                // str을 모두 한번에 묶는 것은 공백을 포함하면 안되는 케이스의 경우 Error 발생함
            dataTable.innerHTML = str;
        })

        // html에서 받은 값을 객체에 저장 후 콘솔에 출력
        function getDatas(){
            let name = document.getElementById(`name`).value;
            let addr = document.getElementById(`addr`).value;
            let favor1 = document.getElementById(`favor1`).value;
            let favor2 = document.getElementById(`favor2`).value;
            let favor3 = document.getElementById(`favor3`).value;
            let email = document.getElementById(`email`).value;
            let wanna = document.getElementById(`wanna`).value;

            dataObj.name = name;
            dataObj.addr = addr;
            dataObj.favors.favor1 = favor1;
            dataObj.favors.favor2 = favor2;
            dataObj.favors.favor3 = favor3;
            dataObj.email = email;
            dataObj.wanna = wanna;
            console.log(dataObj);
            // dataObj 객체가 상단에 존재하여도
            // 이 function의 실행으로 인해 값이 변화됨
        }
    </script>
</body>
</html>